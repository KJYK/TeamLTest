<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>TeamL</title>
  <!-- Favicon (최소 구성) -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="shortcut icon" href="favicon.ico">

  <!-- (선택) iOS 홈 화면 아이콘 -->
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-icon180x180.png">

  <!-- (선택) PWA/안드로이드용 매니페스트 -->
  <link rel="manifest" href="site.webmanifest">
  <style>
    /* 테마 색상 변수 정의 */
    :root {
      --theme-primary: #e64628;
      --theme-primary-light: #f06a4f;
      --theme-primary-dark: #b13920;
      --theme-primary-transparent: rgba(230, 70, 40, 0.8);
      --theme-primary-very-transparent: rgba(230, 70, 40, 0.3);
      --theme-bg-dark: rgba(0, 0, 0, 0.7);
      --theme-bg-darker: rgba(20, 20, 20, 0.7);
      --theme-text: rgba(40, 40, 40, 1);
      --theme-text-light: rgba(40, 40, 40, 0.8);
      --side-spacing: clamp(20px, 5vw, 60px);
      --hero-card-ratio: 0.75;
       --topic-card-scale: 1.1;
    }
    
    /* 기본 레이아웃 */
    *{box-sizing:border-box;margin:0;padding:0}
    body {
      margin: 0px;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", sans-serif;
      background-color: #F5F5F7;
      color: var(--theme-text);
      overflow-x: hidden;
    }
    
    section {
      position: relative;
      padding: 50px var(--side-spacing); 
      box-sizing: border-box;
    }
    

    /* 짝수/홀수 섹션 배경색 */
    section:nth-of-type(odd) {
      background-color: rgba(248, 248, 248, 0.8) !important;
    }

    section:nth-of-type(even) {
      background-color: rgba(255, 255, 255, 0.8) !important;
    }
    
    /* 히어로 이미지 */
    #hero {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      background: None;
      color: var(--theme-text);
    }

    #hero .overlay-text {
      position: relative;
      z-index: 1;
    }

    #hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(255, 255, 255, 0.15);
      z-index: 0;
    }
    
    #hero .overlay-text h1 {
      font-size: clamp(3.8rem, 3.5vw, 7rem);
      background: linear-gradient(135deg, #1d1d1f, #262627);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    #hero .overlay-text h2 {
      font-size: clamp(1.1rem, 1.5vw, 4rem);
      color: var(--theme-text-light);
    }
    
    /* Apple-style Research Topics */
    .research-topics-section {
      padding: 80px var(--side-spacing);
    }

    .research-topics-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 40px;
    }
    .topics-scroll{
      display:flex;
      gap:clamp(20px,4vw,40px);
      padding:0 clamp(20px,5vw,60px);
      overflow-x:auto;
      overflow-y:visible;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling:touch;
      padding-top:12px;
      width:100%;          /* 카드 총폭만큼만 컨테이너 폭 */
      justify-content:flex-start; /* 기본 = 왼쪽 */
      margin:0 auto;              /* 부모보다 좁아지면 자동 중앙 */
      scroll-padding-left:clamp(20px,5vw,60px); /* 스냅 시 첫 카드 패딩 */
      align-items: flex-start;
    }
    .research-topic-item {
      display: flex;
      align-items: center;
      min-height: clamp(450px, 55vh, 700px); /* 화면 높이의 55 % 정도로 제한 */
      margin-bottom: 60px;                  /* 카드 간 간격 절반으로 */
      padding: 24px;
      position: relative;
    }

    .research-topic-item:nth-child(even) {
      flex-direction: row-reverse;
    }

    .research-content {
      flex: 1;
      padding: 0 60px;
      max-width: 500px;
    }

    .research-image-container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px;
    }

    .research-image {
      max-width: 400px;
      width: 100%;
      height: auto;
      object-fit: contain;
      filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.3));
      transition: transform 0.6s ease;
    }

    .research-image:hover {
      transform: scale(1.05);
    }

    .research-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--theme-primary), var(--theme-primary-dark));
      color: white;
      padding: 8px 20px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .research-title {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 800;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #1D1D1F, #86868B);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.1;
    }

    .research-description {
      font-size: 1.2rem;
      line-height: 1.6;
      color: var(--theme-text-light);
      margin-bottom: 30px;
    }

    .research-features {
      margin-bottom: 40px;
    }

    .research-features h4 {
      font-size: 1.1rem;
      color: var(--theme-primary-light);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .research-features ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .research-features li {
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
      color: var(--theme-text-light);
      line-height: 1.6;
    }

    .research-features li:before {
      content: '✓';
      position: absolute;
      left: 0;
      color: var(--theme-primary);
      font-weight: bold;
      font-size: 1.2rem;
    }

    .learn-more-btn {
      display: inline-flex;
      align-items: center;
      background: rgba(0, 122, 255, 0.1); /* 기존: rgba(255, 255, 255, 0.1) */
      color: var(--theme-text); /* 기존: white */
      padding: 15px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      border: 1px solid rgba(0, 122, 255, 0.2); /* 기존: rgba(255, 255, 255, 0.2) */
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .learn-more-btn:hover {
      background: var(--theme-primary-transparent);
      border-color: var(--theme-primary);
      transform: translateY(-2px);
      box-shadow: 0 10px 30px var(--theme-primary-very-transparent); 
    }

    .learn-more-btn::after {
      content: '→';
      margin-left: 10px;
      transition: transform 0.3s ease;
    }

    .learn-more-btn:hover::after {
      transform: translateX(5px);
    }

    /* 반응형 디자인 */
    @media (max-width: 768px) {
      .research-topic-item,
      .research-topic-item:nth-child(even) {
        flex-direction: column;
        text-align: center;
        margin-bottom: 80px;
        min-height: auto;
      }

      .research-content {
        padding: 0 20px;
        max-width: none;
        order: 2;
      }

      .research-image-container {
        order: 1;
        padding: 20px;
      }

      .research-image {
        max-width: 300px;
      }

      .research-topics-container {
        padding: 0 20px;
      }
    }

    /* 연구 주제 팝업 스타일 */
    .research-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      overflow-y: auto;
      overflow-x: hidden;
    }

    .research-popup.show {
      opacity: 1;
      visibility: visible;
    }

    .research-popup-content {
      background: linear-gradient(135deg, rgba(248, 248, 248, 0.98), rgba(255, 255, 255, 0.98));  
      max-width: min(800px, calc(100vw - 40px));
      max-height: calc(100vh - 40px);
      width: 100%;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 60px var(--theme-primary-very-transparent);
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      transform: scale(0.9);
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      margin: auto;
    }

    .research-popup.show .research-popup-content {
      transform: scale(1);
    }

    .research-popup-header {
      background:#fff; /* 흰 바탕 */
      padding:40px 40px 25px; /* 좌우 여유 */
      text-align:left; /* 왼쪽 정렬 */
      display:flex;flex-direction:column-reverse;
      align-items:flex-start; /* 큰 제목을 밑으로 */
      border-bottom:1px solid #fff;
    }

    .research-popup-close {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 35px;
      height: 35px;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .research-popup-close:hover {
      background-color: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .research-popup-close:before, 
    .research-popup-close:after {
      content: '';
      position: absolute;
      width: 18px;
      height: 2px;
      background-color: white;
      border-radius: 1px;
    }

    .research-popup-close:before {
      transform: rotate(45deg);
    }

    .research-popup-close:after {
      transform: rotate(-45deg);
    }

    .research-popup-title {
      font-size: 2.5rem;
      font-weight: 500;
      margin: 0;
      color:#1d1d1f;
      text-shadow:none
    }

    .research-popup-subtitle {
      margin: 10px 0 0 0;
      color:#1d1d1f;
      opacity:1;
      font-size:0.85rem;
      font-weight:500;
    }

    .research-popup-body {
      padding: 40px;
      overflow-y: auto;
      flex: 1;
      scrollbar-width: thin;
      scrollbar-color: var(--theme-primary) rgba(255, 255, 255, 0.1);
      background:#fff;
    }

    .research-popup-body::-webkit-scrollbar {
      width: 8px;
    }

    .research-popup-body::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    .research-popup-body::-webkit-scrollbar-thumb {
      background: rgba(50, 50, 50, 0.3);
      border-radius: 4px;
    }

    .research-popup-body::-webkit-scrollbar-thumb:hover {
      background: rgba(50, 50, 50, 0.1);
    }

    .research-popup-description {
      font-size: 1.1rem;
      line-height: 1.8;
      color: var(--theme-text);
      margin-bottom: 30px;
      text-align: justify;
    }

    .research-popup-features {
      margin-bottom: 30px;
    }

    .research-popup-features h4 {
      font-size: 1.3rem;
      color: var(--theme-primary-light);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .research-popup-features ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .research-popup-features li {
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
      color: var(--theme-text);
      line-height: 1.6;
    }

    .research-popup-features li:before {
      content: '▸';
      position: absolute;
      left: 0;
      color: var(--theme-primary);
      font-weight: bold;
      font-size: 1.2rem;
    }

    .research-popup-applications {
      background: rgba(0, 122, 255, 0.05);
      border-radius: 15px;
      padding: 25px;
      border-left: 4px solid var(--theme-primary);
    }

    .research-popup-applications h4 {
      font-size: 1.3rem;
      color: var(--theme-primary-light);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .research-popup-applications p {
      color: var(--theme-text-light); 
      line-height: 1.6;
      margin: 0;
    }

    /* 애니메이션 */
    .animate-section {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    .animate-section.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    .animate-section.hide-up {
      opacity: 0;
      transform: translateY(-30px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    .animate-section.hide-down {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    #hero .overlay-text {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    #hero .overlay-text.hide {
      opacity: 0;
      transform: translateY(-50px);
    }

    /*  ▒▒ MODIFIED ▒▒  이미지 자체가 카드가 되도록 재정의 */
    .topic-card{
      flex:0 0 clamp(250px,25vw,320px);  /* 모바일‑데스크톱 공통 */
      max-width:320px;                   /* 선택: 카드 폭 상한 */
      border-radius:20px;
      background:#fff;
      padding:0;                         /* 불필요한 안쪽 여백 제거 */
      box-shadow:0 10px 28px rgba(0,0,0,.12);
      overflow:hidden;
      cursor:pointer;
      scroll-snap-align:start;           /* 스냅 기준을 왼쪽 */
      transition:transform .3s,box-shadow .3s;
      position:relative; 
    }
    .topic-card:hover{
      transform:translateY(-8px);
      box-shadow:0 18px 45px rgba(0,0,0,.25);
    }

    .topic-card img{
      display:block;
      width:100%;
      height:auto;                 /* 비율 유지 */
      object-fit:contain;          /* 절대 잘리지 않음 */
    }

    /*  “+” 라운드 버튼 */
    .card-plus{
      position:absolute; right:14px; bottom:14px;

      /* 크기 & 모양 – 건드리지 마세요 */
      width:46px; height:46px; border-radius:50%;

      /* 여기만 원하는 방식으로 교체 */
      /* 1) 아이콘 색을 그대로 쓸 때 */
      background: #d9d9d9ff url('icons/PlusIcon.svg') center/60% no-repeat;

      /* 2) 아이콘 색을 theme‑primary 로 바꾸고 싶을 때 (mask 방법) */
      /*background: var(--theme-primary);
      -webkit-mask: url('icons/PlusIcon.svg') center/100% no-repeat;
              mask: url('icons/PlusIcon.svg') center/100% no-repeat;*/

      /* 기존 텍스트 숨김 */
      color:transparent;
      
      /* 호버 등장 효과 – 기존 그대로 */
      font-size:28px; line-height:46px; /* 삭제해도 무방 */
      opacity:0; transform:scale(.85);
      transition:opacity .25s, transform .25s;
      pointer-events:none;
    }
    .topic-card:hover .card-plus{ opacity:1; transform:scale(1); }
    
    /* 데스크톱에서는 카드 폭을 줄여 높이도 함께 감소 */
    @media (min-width:1024px){
      .topic-card{ flex:0 0 220px; }       /* 기존 280px → 220px */
    }

    /* ─── Universal Section Title ─────────────────────── */
    .section-title{
      font-size:clamp(28px,4vw,48px);   /* 데스크톱 ~ 모바일 대응 */
      font-weight:800;
      margin:0 0 52px 0;               /* 아래 간격만 크게 */
      margin-bottom:clamp(60px,6vw,80px);
      line-height:1.2;
      text-align:left;                 /* 항상 왼쪽 정렬 */
      /* 시각적 강조용 얇은 언더라인 */
      position:relative;
    }
    #members .section-title{
      /* 기존 clamp(60px, 6vw, 80px) → 살짝/확실히 줄인 값 */
      margin-bottom: clamp(24px, 4vw, 40px);
    }
    .section-title::after{
      content:'';
      position:absolute;
      bottom:-12px;
      left:0;
      width:60px;                      /* 짧은 바 */
      height:3px;
      background:var(--theme-primary);
      transition:width .3s ease;
    }
    .section-title:hover::after{ width:90px; } /* 살짝 길어지는 효과 */

    /* 좁은 모바일에서 패딩만 약간 줄이기 */
    @media(max-width:480px){
      .section-title{padding-left:20px;margin-bottom:40px;}
    }
    
    .research-popup-cards{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:32px;padding:0 0 40px;
    }

    .popup-card{
      width:90%; /* 팝업 폭의 95 % */
      max-width:1500px;
      background:#F5F5F7; /* 연한 회색 */
      border-radius:24px;
      display:flex; flex-direction:column;
      overflow:hidden; transition:.25s;
    }
    
    .popup-card .card-text{
      padding:24px 20px 18px; text-align:justify;
    }
    .popup-card .card-text h3{
      font-size:1.3rem; font-weight:700; margin:0 0 8px;
      color:#1d1d1f; line-height:1.25;
    }
    .popup-card .card-text p{
      font-size:.95rem; line-height:1.45; color:#555; margin:0;
    }
    .popup-card .card-image{
      background:#F5F5F7; display:flex;
      align-items:center; justify-content:center;
      padding:20px; flex:1 1 auto;
      width: 100%;
    }
    .popup-card .card-image img{
      max-width:100%; max-height:300px; object-fit:contain;
    }
    @media(max-width:600px){ .popup-card{flex:0 0 100%;} }

    
    /* 타이틀이 자기 줄을 차지하게 하고, 항상 왼쪽 정렬 */
    .hero-section{ flex-wrap: wrap; }
    .hero-section .hero-title{
      order: -1;                 /* 항상 맨 위에 오도록 */
      width: 100%;               /* 한 줄 전체 차지 */
      align-self: flex-start;    /* 컨테이너가 가운데 정렬이어도 타이틀은 왼쪽 */
      margin: 0 0 clamp(20px, 5vw, 28px);
      text-align: left;
    }

    /* 가로(landscape)에서만 '가로축 100%' 한 줄 고정 */
    @media (orientation: landscape){
      .hero-section .hero-title{ flex: 0 0 100%; }
    }

    /* 세로(portrait)에선 절대 세로로 늘어나지 않게 리셋 + 카드 가운데 */
    @media (orientation: portrait){
      .hero-section{
        justify-content: flex-start;   /* 화면 위에서부터 쌓기 */
        text-align: left;
      }
      .hero-section .hero-title{ flex: none; }   /* ← 요게 핵심(세로 100% 방지) */
      .hero-card{
        margin: 0 auto;                               /* 수평 가운데 */
        max-width: calc(100% - 2 * var(--side-spacing)); /* 섹션 패딩 고려해 넘치지 않게 */
      }
    }
    /* ── Research Topic 카드 120% 스케일: 폭을 계산식으로 통일 ── */
    #topics .topic-card{
      /* 기본(모바일~태블릿) 기준 폭을 변수로 잡고 → 스케일 곱하기 */
      --card-base: clamp(250px, 25vw, 330px);
      flex: 0 0 calc(var(--card-base) * var(--topic-card-scale));
      max-width: calc(var(--card-base) * var(--topic-card-scale)); /* 이전 max-width:320px를 무력화 */
    }

    /* 650px 이상에서는 원래 280px 기준 → 스케일 곱하기 */
    @media (min-width:650px){
      #topics .topic-card{
        --card-base: 280px;
      }
    }

    /* 1024px 이상에서는 원래 330px 기준 → 스케일 곱하기 */
    @media (min-width:1024px){
      #topics .topic-card{
        --card-base: 330px;
      }
    }

    /* Research 팝업: 스크롤은 유지하고 스크롤바만 숨기기 */
    .research-popup-body{
      /* Firefox & 구형 Edge/IE */
      scrollbar-width: none;       /* 기존 thin → none */
      -ms-overflow-style: none;
    }
    .research-popup-body::-webkit-scrollbar{
      /* Chrome, Edge(Chromium), Safari */
      width: 0 !important;
      height: 0 !important;
    }

    /* (선택) 팝업 바깥 컨테이너의 스크롤바도 숨기고 싶다면 */
    .research-popup{
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    .research-popup::-webkit-scrollbar{
      width: 0 !important;
      height: 0 !important;
    }

    /* Research 토픽 가로 스크롤: 바는 숨기고, 스크롤 기능은 유지 */
    #topics .topics-scroll{
      /* Firefox / 구형 Edge */
      scrollbar-width: none !important;   /* 기존 thin/표시 값을 무력화 */
      -ms-overflow-style: none !important;

      /* 스크롤은 계속 가능해야 하므로 overflow-x는 그대로 auto 유지 */
      /* (원래 코드에 overflow-x:auto가 이미 있음) */
    }

    /* Chrome, Edge(Chromium), Safari */
    #topics .topics-scroll::-webkit-scrollbar{
      width: 0 !important;
      height: 0 !important;
      display: none !important;           /* 기존 height:8px 규칙을 완전히 덮어씀 */
    }

    /* Hero의 TeamL 제목 왼쪽에 '텍스트처럼' 붙는 아이콘 */
    .hero-title::before{
      content: "";
      display: inline-block;
      width: 1em;                 /* 글자 크기와 동일하게 */
      height: 1em;                /* 글자 크기와 동일하게 */
      margin-right: 0.35em;       /* 텍스트와 간격 */
      background: url("assets/Logo_O.svg") center/contain no-repeat;
      vertical-align: -0.12em;    /* 베이스라인 미세 정렬(폰트에 따라 -0.1~ -0.2em 조절) */
    }
	</style>
</head>

<body>
  <!-- 히어로 섹션 -->
  <section id="hero" class="hero-section">
    <h2 class="section-title hero-title">TeamL</h2>
    <!-- 이미지 카드 -->
    <figure class="hero-card">
      <img src="Narrow.png" alt="Human Behaviour & Sensing">
      <!-- 포트레이트(세로) 전용 오버레이 메시지 -->
      <figcaption class="hero-overlay-msg" data-hero-text>
        <h1>Where Human Behavior<br>Meets Sensing Technology</h1>
        <h2>From human responses to interventions,<br>building a better tomorrow</h2>
      </figcaption>
    </figure>

    <!-- 랜드스케이프(가로) 전용 사이드 메시지 -->
    <div class="hero-side-msg" data-hero-text>
      <h1>Where Human Behavior<br>Meets Sensing Technology</h1>
      <h2>From human responses to interventions,<br>building a better tomorrow</h2>
    </div>
</section>

  <!-- ─── Research Topics (이미지 카드 버전) ───────────────────────── -->
  <section id="topics" class="research-topics-section">
    <h2 class="section-title">Research</h2>  <!-- ★ 추가 -->
    <div class="topics-scroll">
      <!-- 카드 0 -->
      <article class="topic-card" data-research="ongoing-research">
        <img src="ResearchTopic/ResearchTopicCard0.PNG" alt="Ongoing Research">
        <div class="card-plus"></div>
      </article>
      
      <!-- 카드 1 -->
      <article class="topic-card" data-research="human-sensing">
        <img src="ResearchTopic/ResearchTopicCard1.PNG" alt="Human Sensing">
        <div class="card-plus"></div>
      </article>

      <!-- 카드 2 -->
      <article class="topic-card" data-research="data-analysis">
        <img src="ResearchTopic/ResearchTopicCard2.PNG" alt="Pattern Discovery">
        <div class="card-plus"></div>
      </article>

      <!-- 카드 3 -->
      <article class="topic-card" data-research="intervention">
        <img src="ResearchTopic/ResearchTopicCard3.PNG"  alt="Intervention Design">
        <div class="card-plus"></div>
      </article>
    </div>
  </section>

    <!-- 연구 주제 팝업 -->
    <div class="research-popup" id="research-popup">
      <div class="research-popup-content">
        <div class="research-popup-header">
          <div class="research-popup-close" id="research-popup-close"></div>
          <h2 class="research-popup-title" id="research-popup-title">Research Topic</h2>
          <p class="research-popup-subtitle" id="research-popup-subtitle"></p>
        </div>

        <!-- ★ 카드 컨테이너 ONLY ★ -->
        <div class="research-popup-body">
          <div class="research-popup-cards" id="research-popup-cards"></div>
        </div>
      </div>
    </div>
    <!-- 멤버 소개 섹션 -->
    <section id="members" class="animate-section">
      <h2 class="section-title">Members</h2>  <!-- ★ 추가 -->  
      <!-- Faculty -->
      <div id="faculty" class="animate-section">
          <h3 class="subchapter-title">Supervisor</h3>
          <div class="professor">
              <img src="Members/Supervisor/HLee.png" alt="Faculty" data-member="HLee">
              <h3>Dr. Hoonyong Lee</h3>
          </div>
      </div>
      
      <!-- Students -->
      <div id="students" class="animate-section">
          <h3 class="subchapter-title">HDR Students</h3>
          <div class="students">
              <div class="member-card">
                  <img src="Members/HDR/SKarim.jpg" alt="학생1" data-member="SKarim">
                  <p>Shakir Karim</p>
              </div>
              <div class="member-card">
                  <img src="Members/HDR/JKim.png" alt="학생2" data-member="JKim">
                  <p>Jinyoung Kim</p>
              </div>
          </div>
      </div>

      <!-- Students -->
      <div id="students" class="animate-section">
          <h3 class="subchapter-title">Research Students</h3>
          <div class="students">
              <div class="member-card">
                  <img src="Members/Interns/CFan.png" alt="학생3">
                  <p>Cherry Fan</p>
              </div>
              <div class="member-card">
                  <img src="Members/Interns/JGalloway.jpg" alt="학생4">
                  <p>Jolene Galloway</p>
              </div>
          </div>
      </div>
      
      <!-- Alumni -->
      <!-- <div id="alumni" class="animate-section">
          <h3 class="subchapter-title">Alumni</h3>
          <div class="alumni">
              <div class="member-card">
                  <p>Alumni1</p>
                  <p>Ph.D.</p>
                  <p>Affiliation: USYD</p>
              </div>
              <div class="member-card">
                  <p>Alumni2</p>
                  <p>M.Phil.</p>
                  <p>Affiliation: USYD</p>
              </div>
          </div>
      </div>-->
    </section>
  
  <!-- 발행 논문 테이블 (CSV 파일 참조 버전) -->
  <section id="publications" class="animate-section">
    <h2 class="section-title">Publications</h2>  <!-- ★ 추가 -->  
    <!-- 카테고리 버튼 -->
    <div class="pub-categories seg-control" data-active="journal">
      <button class="pub-category-btn active" data-category="journal">
        <span>Journal</span>
      </button>
      <button class="pub-category-btn" data-category="conference">
        <span>Conference</span>
      </button>
    </div>
    
    <!-- Journal Papers 섹션 -->
    <div class="pub-content" id="journal-papers">
      <!-- 연도 선택 메뉴 - 동적으로 생성됨 -->
      <div class="year-tabs" id="journal-year-tabs">
        <!-- 탭 버튼은 스크립트에서 자동 생성됨 -->
      </div>
      
      <!-- 논문 목록 컨테이너 -->
      <div class="papers-container">
        <!-- 여기에 테이블이 동적으로 로드됨 -->
        <div id="journal-table-container"></div>
        
        <!-- 페이지네이션 -->
        <div class="pagination" id="journal-pagination">
          <!-- 페이지 버튼은 스크립트에서 생성됨 -->
        </div>
      </div>
    </div>
    
    <!-- Conference Papers 섹션 (초기에는 숨김) -->
    <div class="pub-content" id="conference-papers" style="display: none;">
      <!-- 연도 선택 메뉴 - 동적으로 생성됨 -->
      <div class="year-tabs" id="conference-year-tabs">
        <!-- 탭 버튼은 스크립트에서 자동 생성됨 -->
      </div>
      
      <!-- 논문 목록 컨테이너 -->
      <div class="papers-container">
        <!-- 여기에 테이블이 동적으로 로드됨 -->
        <div id="conference-table-container"></div>
        
        <!-- 페이지네이션 -->
        <div class="pagination" id="conference-pagination">
          <!-- 페이지 버튼은 스크립트에서 생성됨 -->
        </div>
      </div>
    </div>
    
    <!-- 로딩 인디케이터 -->
    <div id="publications-loading" class="loading-indicator">
      <div class="loading-spinner"></div>
      <p>Loading publications data...</p>
    </div>
  </section>
  <!-- 뉴스 섹션 -->
  <section id="news" class="animate-section">
    <h2 class="section-title">News</h2>  <!-- ★ 추가 -->
    <!-- 가장 최근 뉴스 표시 영역 -->
    <div id="latest-news-container" class="latest-news">
      <!-- 가장 최근 뉴스의 이미지와 텍스트가 동적으로 로드됨 -->
      <img src="placeholder.jpg" alt="Latest News" class="latest-news-image">
      <div class="latest-news-content">
        <h3 class="latest-news-title">Loading latest news...</h3>
        <p class="latest-news-date">Loading date...</p>
      </div>
    </div>
    
    <!-- 최근 뉴스 테이블 -->
    <table class="news-table" id="news-table">
      <thead>
        <tr>
          <th width="20%">Date</th>
          <th width="80%">Title</th>
        </tr>
      </thead>
      <tbody id="news-table-body">
        <!-- 뉴스 항목들이 동적으로 로드됨 -->
        <tr>
          <td colspan="2" class="loading-indicator">
            <div class="loading-spinner"></div>
            <p>Loading news data...</p>
          </td>
        </tr>
      </tbody>
    </table>
    
    <!-- 뉴스 페이지네이션 -->
    <div class="pagination" id="news-pagination">
      <!-- 페이지 버튼은 스크립트에서 생성됨 -->
    </div>
    
    <!-- 뉴스 팝업 갤러리 -->
    <div class="news-popup" id="news-popup">
      <div class="popup-content">
        <div class="popup-close" id="popup-close"></div>
        
        <div class="popup-gallery">
          <div class="gallery-container" id="gallery-container">
            <!-- 갤러리 이미지들이 동적으로 로드됨 -->
          </div>
          
          <div class="gallery-nav gallery-prev" id="gallery-prev">&lt;</div>
          <div class="gallery-nav gallery-next" id="gallery-next">&gt;</div>
          
          <div class="gallery-dots" id="gallery-dots">
            <!-- 갤러리 인디케이터 점들이 동적으로 로드됨 -->
          </div>
        </div>
        
        <div class="popup-details">
          <h2 class="popup-title" id="popup-title">News Title</h2>
          <p class="popup-date" id="popup-date">News Date</p>
          <div class="popup-text" id="popup-text">News Content</div>
        </div>
      </div>
    </div>
  </section>

  <!-- 연락처 -->
  <!-- <section id="media" class="animate-section">
    <h2 class="section-title">Essay</h2>  
    <div class="media-container">
      <a href="https://medium.com/@onarcher/" target="_blank" class="media-link">
        <img src="Medium.png" alt="Medium" class="media-icon" title="Visit our Medium blog">
      </a>
    </div>
  </section> -->
  <!-- Member Links Popup -->
  <div class="member-popup" id="member-popup">
    <div class="member-popup-content">
      <div class="member-popup-close" id="member-popup-close"></div>

      <div class="member-popup-header">
        <img id="member-popup-avatar" class="member-popup-avatar" alt="">
        <div class="member-popup-meta">
          <h3 id="member-popup-name"></h3>
          <p id="member-popup-role"></p>
        </div>
      </div>

      <div class="member-popup-links">
        <a id="member-link-cv" class="member-link" href="#" target="_blank" rel="noopener noreferrer" title="CV">
          <img src="icons/icon_cv.png" alt="CV">
        </a>
        <a id="member-link-homepage" class="member-link" href="#" target="_blank" rel="noopener noreferrer" title="Homepage">
          <img src="icons/icon_homepage.png" alt="Homepage">
        </a>
        <a id="member-link-linkedin" class="member-link" href="#" target="_blank" rel="noopener noreferrer" title="LinkedIn">
          <img src="icons/icon_linkedin.png" alt="LinkedIn">
        </a>
      </div>
    </div>
  </div>
  <style>
    /* 추가 스타일들 */
    
    /* 챕터와 서브챕터 타이틀 스타일 */
    .chapter-title {
      font-size: clamp(26px, 3vw, 42px);
      padding-bottom: 18px;
      margin-bottom: clamp(50px, 6vw, 70px);;
      text-align: center;
      font-weight: 700;
      position: relative;
    }
    
    .chapter-title::after {
      content: '';
      position: absolute;
      bottom: 0px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background-color: var(--theme-primary);
      transition: width 0.3s ease;
    }
    
    .chapter-title:hover::after {
      width: 100px;
      margin: 6px auto 0;
    }
    
    .subchapter-title {
      font-size: clamp(22px, 2.4vw, 36px);
      padding-top: 36px;
      padding-bottom: 2px;
      margin-bottom: clamp(8px, 2vw, 16px);
      text-align: center;
      font-weight: 600;
      color: var(--theme-text-light);
    }
    
    .subchapter-title::after {
      content: '';
      display: block;
      width: 40px;
      height: 2px;
      background-color: var(--theme-primary-light);
      margin: 10px auto 0;
    }

    /* 멤버 섹션 반응형 스타일 */
    #members .professor {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      margin-bottom: 50px;
      width: 100%;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }
    
    #members .professor img {
      width: clamp(120px, 15vw, 200px);
      height: clamp(120px, 15vw, 200px);
      object-fit: cover;
      border-radius: 50%;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      border: 3px solid transparent;
      transition: all 0.3s ease;
      margin-top: 0;
    }
    
    #members .professor img:hover {
      border-color: var(--theme-primary);
      transform: scale(1.05);
    }
    
    #members .professor h3 {
      font-size: clamp(18px, 2vw, 28px);
      margin-bottom: 10px;
    }
    
    #members .professor p {
      font-size: clamp(14px, 1.2vw, 18px);
      opacity: 0.8;
    }
    
    #members .students, #members .alumni {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: clamp(12px, 1.6vw, 22px);
      width: 100%;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
      margin-top: 0;
    }
    
    .member-card {
      min-width: clamp(100px, 15vw, 200px);
      text-align: center;
      font-size: clamp(0.85rem, 1vw, 1rem);
      padding: 6px 12px 12px;   /* 특히 top padding을 확 줄임 */
      transition: all 0.3s ease;
      border-radius: 8px;
    }
    

    
    .member-card img {
      width: clamp(80px, 10vw, 120px);
      height: clamp(80px, 10vw, 120px);
      object-fit: cover;
      border-radius: 50%;
      margin-bottom: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }
    
        .member-card img:hover {
      border-color: var(--theme-primary);
      transform: scale(1.05);
    }

    .member-card:hover img {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
      border-color: var(--theme-primary);
    }
    
    .member-card p {
      margin: 5px 0;
      font-size: clamp(14px, 1.1vw, 16px);
    }
    
    .member-card p:first-of-type {
      font-weight: bold;
      font-size: clamp(16px, 1.3vw, 18px);
    }
    
    /* 표 디자인 */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
    }
    
    th, td {
      padding: 12px 15px;
      text-align: left;
      font-size: 0.9rem;
    }
    
    th {
      background-color: #EDEFF2;
      color: rgba(50, 50, 50, 0.99);
      font-weight: bold;
      text-transform: uppercase;
    }
    
    tr:nth-child(even) {
      background-color: rgba(50, 50, 50, 0.035);
    }
    
    tr:hover {
      background-color: #EDEFF2;
      transition: background 0.3s;
    }
    
    /* Publication 섹션을 위한 추가 CSS */
    
    
    .year-tabs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 25px;
    }
    
    .year-tab {
      background-color: rgba(0, 122, 255, 0.05);
      color: var(--theme-text);
      border: none;
      padding: 8px 16px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    
    .year-tab:hover {
      background-color: #EDEFF2;
    }
    
    .year-tab.active {
      background-color: #EDEFF2;
      font-weight: 700;
    }
    
    .pagination {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 20px;
    }
    
    .page-btn {
      background-color: rgba(0, 122, 255, 0.1);
      color: rgba(50, 50, 50, 0.3);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    
    .page-btn:hover {
      background-color: rgba(50, 50, 50, 0.3);
    }
    
    .page-btn.active {
      background-color: rgba(50, 50, 50, 0.7);
      font-weight: bold;
    }
    
    .papers-container {
      transition: all 0.3s ease;
    }
    
    table.papers-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .no-papers {
      text-align: center;
      padding: 30px;
      font-style: italic;
      opacity: 0.7;
    }
    
    .loading-indicator {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 30px;
      color: var(--theme-text-light);
    }
    
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: 4px solid var(--theme-primary);
      animation: spin 1s linear infinite;
      margin-bottom: 10px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .latest-news {
      display: flex;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
    }

    .latest-news:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
      border-left: 3px solid var(--theme-primary);
    }

    .latest-news-image {
      width: 300px;
      height: 200px;
      object-fit: cover;
    }

    .latest-news-content {
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .latest-news-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 10px;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .latest-news-title:hover {
      color: var(--theme-primary);
      text-decoration: underline;
    }

    .latest-news-date {
      font-size: 0.9rem;
      color: var(--theme-text-light);
    }

    .news-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
    }

    .news-table th {
      padding: 15px;
      background-color: rgba(128, 128, 128, 0.15);;
      color: var(--theme-text);
      font-weight: bold;
      text-transform: uppercase;
    }

    .news-table td {
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .news-table tr:last-child td {
      border-bottom: none;
    }

    .news-table tr:hover {
      background-color: rgba(128, 128, 128, 0.15);;
    }

    .news-title {
      font-weight: bold;
      cursor: pointer;
      transition: color 0.2s ease;
    }

    .news-title:hover {
      color: var(--theme-primary-light);
      text-decoration: underline;
    }

    .news-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color:  rgba(248, 248, 248, 0.95);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center; /* 중앙 정렬 강화 */
      padding: 20px;
      box-sizing: border-box;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .news-popup.show {
      opacity: 1;
      visibility: visible;
    }

    .popup-content {
      background-color: rgba(248, 248, 248, 0.98);
      max-width: 900px;
      width: 95%;
      max-height: calc(95vh - 40px); /* 95vh로 여유 공간 확보 */
      min-height: 300px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      position: relative;
      margin: auto; /* 상하 중앙 정렬 */
      border-top: 3px solid var(--theme-primary);
      display: flex;
      flex-direction: column;
    }

    .popup-close {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 30px;
      height: 30px;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
    }

    .popup-close:hover {
      background-color: var(--theme-primary);
      transform: scale(1.1);
    }

    .popup-close:before, .popup-close:after {
      content: '';
      position: absolute;
      width: 15px;
      height: 2px;
      background-color: white;
    }

    .popup-close:before {
      transform: rotate(45deg);
    }

    .popup-close:after {
      transform: rotate(-45deg);
    }

    .popup-gallery {
      width: auto;
      position: relative;
      background-color:  rgba(248, 248, 248, 0.9);
      flex: 0 0 auto;
      max-height: 50%;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .popup-gallery.hidden {
      display: none !important;
    }
    .gallery-container {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
      -ms-overflow-style: none;
      padding: 10px 0 0 0; /* 하단 패딩 제거 */
      flex: 1; /* 남은 공간 모두 사용 */
      min-height: 0;
    }

    .gallery-container::-webkit-scrollbar {
      display: none;
    }

    .gallery-item {
      flex: 0 0 100%; /* 명시적으로 100% 설정 */
      width: auto;
      height: auto;
      scroll-snap-align: center;
      padding: 30px;
      box-sizing: border-box;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden; /* 넘치는 부분 숨김 */
    }
    
    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
    }

    .gallery-nav:hover {
      background-color: var(--theme-primary);
    }

    .gallery-prev {
      left: 20px;
    }

    .gallery-next {
      right: 20px;
    }

    .gallery-dots {
      display: flex;
      justify-content: center;
      padding: 15px 0; /* 패딩 추가로 공간 확보 */
      background-color:  rgba(248, 248, 248, 0.9); /* 배경색으로 구분 */
      flex-shrink: 0; /* 크기 고정 */
      position: relative;
      z-index: 10;
    }

    .gallery-dot {
      width: 12px; /* 크기 약간 증가 */
      height: 12px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.4);
      margin: 0 6px; /* 간격 약간 증가 */
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent; /* 테두리 추가 */
    }

    .gallery-dot.active {
      background-color: var(--theme-primary);
      transform: scale(1.3); /* 크기 증가 */
      border-color: rgba(255, 255, 255, 0.3); /* 활성화 시 테두리 */
    }

    .gallery-dot:hover {
      background-color: rgba(255, 255, 255, 0.7);
      transform: scale(1.1);
    }

    .popup-details {
      flex: 1;  /*  추가 - 남은 공간 모두 사용 */
      padding: 20px;
      overflow-y: auto;  /*  추가 - 스크롤 가능 */
      min-height: 200px;
      max-height: none; 
    }

    .popup-title {
      font-size: 1.8rem;
      font-weight: bold;
      margin-bottom: 15px;
      color: var(--theme-text); 
    }

    .popup-date {
      font-size: 0.9rem;
      color: var(--theme-text); 
      margin-bottom: 20px;
    }

    .popup-text {
      line-height: 1.6;
      color: var(--theme-text); 
      margin-bottom: 20px;
    }

    .media-container {
      display: flex;
      justify-content: center;
      margin: 30px 0;
    }

    .media-link {
      display: inline-block;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .media-link:hover {
      background-color: var(--theme-primary-very-transparent);
      transform: translateY(-5px);
      box-shadow: 0 8px 20px var(--theme-primary-very-transparent);
    }

    .media-icon {
      display: block;
      width: 180px;
      height: auto;
      object-fit: contain;
      background-color: white;
      padding: 12px;
      border-radius: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .media-link:hover .media-icon {
      transform: scale(1.05);
      box-shadow: 0 0 15px var(--theme-primary-light);
    }

    /* 반응형 디자인 */

    @media (max-width: 768px) {
      .latest-news {
        flex-direction: column;
      }

      .latest-news-image {
        width: 100%;
        height: 200px;
      }

      .popup-title {
        font-size: 1.5rem;
      }

      .research-popup-content {
        max-width: calc(100vw - 20px);
        max-height: calc(100vh - 20px);
        margin: 10px;
        border-radius: 15px;
      }

      .research-popup-title {
        font-size: 1.5rem;
      }

      .research-popup-body {
        padding: 25px;
      }

      .gallery-container {
        height: clamp(150px, 25vh, 250px); /* 모바일에서 더 작게 */
        max-height: 40vh; /* 모바일에서는 40% 제한 */
      }

      .gallery-dots {
        padding: 12px 0;
      }
      
      .gallery-dot {
        width: 10px;
        height: 10px;
        margin: 0 4px;
      }
      
      .gallery-dot.active {
        transform: scale(1.2);
      }
    }

    @media (max-width: 480px) {

      .gallery-nav {
        width: 30px;
        height: 30px;
      }

      .research-popup-content {
        margin: 10px;
        max-width: calc(100% - 20px);
      }

      .research-popup-title {
        font-size: 1.3rem;
      }

      .research-popup-body {
        padding: 20px;
      }
      
      .gallery-container {
        height: clamp(120px, 20vh, 200px); /* 더 작은 화면에서 더욱 작게 */
        max-height: 35vh;
      }

        .gallery-dots {
        padding: 10px 0;
      }
      
      .gallery-dot {
        width: 8px;
        height: 8px;
        margin: 0 3px;
      }
      
    }
    @media (orientation: landscape) and (max-height: 600px) {
      .popup-content {
        max-width: calc(100vw - 20px);
        max-height: calc(100vh - 20px);
        margin: 10px 0;
      }

      .gallery-container {
        height: clamp(200px, 30vh, 300px);
      }

      .popup-title {
        font-size: 1.5rem;
      }

      .popup-details {
        padding: 15px;
      }

    }

    /* ★ Hero(세로/좁은 화면)에서 h1↔h2 간격과 h2 색상만 살짝 손보기 */
    @media (orientation: portrait){
      /* 이미지 위 오버레이 텍스트 박스 */
      .hero-overlay-msg{
        /* 큰 문장(h1)과 작은 문장(h2) 사이 간격 */
        gap: clamp(10px, 2.6vw, 18px);
      }
      /* 작은 문장(h2) 색상 살짝 부드럽게 → 가독성 향상 */
      .hero-overlay-msg h2{
        color: rgba(200, 200, 200, 0.92);
        /* 선택사항: 이미지가 아주 밝을 때 더 잘 읽히게 하고 싶으면 아래 한 줄 주석 해제 */
        /* text-shadow: 0 1px 2px rgba(0,0,0,.35); */
        
      }
    }

    /* 🔧 추가: 매우 넓은 화면 대응 */
    @media (min-width: 1400px) {
      .popup-content {
        max-width: 1200px;
        max-height: min(800px, calc(90vh - 40px));
      }

      .popup-gallery {
        max-height: 60vh; /* 넓은 화면에서 이미지 비율 더 줄임 */
      }
    }

    /* 🔧 추가: 매우 낮은 화면 (가로 모드) */
    @media (max-height: 500px) {
      .popup-content {
        max-height: calc(100vh - 10px);
        margin: 5px 0;
      }


      .popup-title {
        font-size: 1.4rem;
        margin-bottom: 10px;
      }

      .popup-details {
        padding: 15px;
      }
    }

    section:nth-of-type(odd) {
      background-color: rgba(248, 248, 248, 0.95) !important;
    }

    section:nth-of-type(even) {
      background-color: rgba(255, 255, 255, 0.95) !important;
    }

    /* 기존 CSS 스타일 뒤에 추가할 코드 */
    /* ── 섹션 전체를 flex 컨테이너로 ───────────────── */
    .hero-section{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:clamp(24px,6vw,60px);
      min-height:100vh;            /* 화면 높이 채우기 */
      padding:var(--side-spacing);
      /* background:none;   */          /* 이전 #hero 배경 제거 */
    }

    /* ── 이미지 카드 ─────────────────────────────── */
    .hero-card{
      position:relative;
      width:90vw;                  /* 기본 = 화면가로 90 % */
      max-width:650px;             /* 너무 커지지 않도록 상한 */
      max-height:70vh;        /* 어떤 가로 폭에서도 70 % 초과 금지 */
      width: clamp(280px, 90vw, calc(70vh * var(--hero-card-ratio)));
      height:auto;            /* 세로는 내용에 맞춰 자동 */
      border-radius:24px;
      overflow:hidden;
      box-shadow:0 15px 40px rgba(0,0,0,.25);
    }
    .hero-card img{display:block;width:100%;height:100%;object-fit:cover;}

    /* 카드 중앙 오버레이(초기값: 숨김) */
    .hero-overlay-msg{
      position:absolute; inset:0;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      text-align:center; color:#fff;
      padding:4vw;
      background:rgba(0,0,0,.35);
      opacity:0; pointer-events:none;   /* 가로 화면에서는 보이지 않음 */
    }
    .hero-overlay-msg h1{
      font-size:clamp(1.35rem, 6vw, 1.6rem);   /* h1이 확실히 더 큼 */
      line-height:1.15;
    }
    .hero-overlay-msg h2{
      font-size:clamp(0.75rem, 4vw, 1.1rem);     /* h2는 상대적으로 작게 */
      line-height:1.15;
    }
    /* ── 가로(landscape) 화면용 사이드 메시지 ─────── */
    .hero-side-msg{
      max-width:500px;
      color:var(--theme-text);
      text-align:left;
      /* 세로 화면에서는 숨김 */
      display:none;
    }
    .hero-side-msg h1{font-size:clamp(1.8rem,2.5vw,3.8rem);line-height:1.15;}
    .hero-side-msg h2{font-size:clamp(1.1rem,1.5vw,1.6rem);color:var(--theme-text-light);}

    .hero-overlay-msg h1,
    .hero-overlay-msg h2,
    .hero-side-msg   h1,
    .hero-side-msg   h2{
      white-space: nowrap;     /* <br> 만 줄바꿈으로 인정 */
      overflow-wrap: normal;   /* 매우 긴 단어가 임의로 끊기는 것도 방지 */
    }

    @media (orientation:portrait){
      .hero-section{flex-direction:column;
                    align-items:center;
                    justify-content:center;        /* ↙ 세로·가로 모두 중앙 */
                    text-align:center;}         /* 가운데 정렬 */
      .hero-card{min-height:75vh;               /* 세로 하한 */
                  max-height:none;               /* 70 vh 상한 해제 */
                  width:clamp(280px, 90vw, calc(75vh * var(--hero-card-ratio)));
                  margin:auto;    }                    /* 수평 중앙 */
      .hero-overlay-msg{opacity:1;}                 /* 카드 중앙 메시지 활성화 */
    }

    @media (orientation:landscape){
      .hero-section{
        flex-direction:row;
        align-items:center;
        justify-content:center;        /* 왼쪽 붙임 → 가운데로 변경 */
        gap:clamp(24px,6vw,60px);      /* 카드와 텍스트 사이 여백 */
      }
      .hero-card{
        width:clamp(280px, 55vw, calc(70vh * var(--hero-card-ratio)));                /* 카드 폭을 가로 55 % 정도로 축소 */
        max-width:700px;
      }
      .hero-overlay-msg{opacity:0;}  /* 오버레이 숨김 */
      .hero-side-msg{display:block;} /* 우측 메시지 노출 */
    }

    /* 기본 카드 스타일 (1번, 3번) */
    .research-topic-item:nth-child(2) {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 40px;
      margin: 20px 0;
      transition: all 0.3s ease;
    }

    /* 중간 섹션만 특별하게 */
    .research-topic-item:nth-child(1),
    .research-topic-item:nth-child(3) {
      background: linear-gradient(135deg, 
        rgba(255, 20, 147, 0.1) 0%, 
        rgba(255, 69, 180, 0.05) 100%);
      border: 1px solid rgba(255, 20, 147, 0.2);
      border-radius: 16px;
      padding: 40px;
      margin: 20px 0;
      box-shadow: 0 8px 32px rgba(255, 20, 147, 0.15);
      transition: all 0.3s ease;
    }

    /* 호버 효과 */
    .research-topic-item:nth-child(2):hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.2);
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .research-topic-item:nth-child(1):hover,
    .research-topic-item:nth-child(3):hover {
      background: linear-gradient(135deg, 
        rgba(255, 20, 147, 0.15) 0%, 
        rgba(255, 69, 180, 0.08) 100%);
      border-color: rgba(255, 20, 147, 0.3);
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(255, 20, 147, 0.25);
    }
    /* ---------- Research Topic : Apple‑like Card Layout ---------- */
    .topic-card:hover{
      transform:translateY(-2px);
      box-shadow:0 20px 50px rgba(0,122,255,.15);
      border-color: var(--theme-primary);
      z-index: 10;
    }
    .topic-card figure{
      margin:0;
      width:100%;
      height:auto; /* 이미지가 카드 너비에 맞게 조정 */
    }
    .topic-card img{
      display:block;
      width:100%;        /* ← 80 % → 100 % */
      height:auto;       /* 세로 비 맞추기 */
      object-fit:contain;/* 잘림 방지 + 비율 유지 */
    }
    .topic-card h3{
      font-size: clamp(1.1rem, 2.5vw, 1.6rem);
      font-weight: 700;
      margin: 0 0 clamp(4px, 1vw, 10px) 0; 
      color: var(--theme-text);
      line-height: 1.2;
      text-align: center;
    }
    .topic-card .tagline{
      font-size: clamp(0.8rem, 1.8vw, 1rem);
      color: var(--theme-text-light);
      margin: 0 0 clamp(12px, 2.5vw, 25px) 0; 
      font-weight: 500;
      text-align: center;
    }

    /* 카테고리 배지 */
    .topic-badge {
      display: block;        /* inline-block → block으로 변경 */
      background: var(--theme-primary);
      color: white;
      padding: clamp(3px, 0.8vw, 5px) clamp(5px, 1.5vw, 9px);  /* 적응형 패딩 */
      border-radius: clamp(10px, 2vw, 18px);  /* 적응형 모서리 */
      font-size: clamp(8px, 1.5vw, 12px);  /* 적응형 폰트 크기 */
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin: clamp(2px, 0.5vw, 4px) auto clamp(6px, 1.5vw, 10px) auto;  
      text-align: center;
      width: fit-content;
    }

    /* Key Capabilities 섹션 */
    .key-capabilities {
      margin-top: clamp(12px, 2.5vw, 25px); 
    }

    .key-capabilities h4 {
      font-size: clamp(0.75rem, 1.5vw, 0.95rem);
      color: var(--theme-primary);
      margin: 0 0 clamp(4px, 0.8vw, 6px) 0;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      text-align: center;
    }

    .capabilities-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .capabilities-list li {
      display: flex;
      align-items: center;
      padding: clamp(1px, 0.3vw, 2px) 0;  /* 적응형 패딩 */
      font-size: clamp(0.7rem, 1.2vw, 0.8rem);  /* 적응형 폰트 크기 */
      color: var(--theme-text-light);
      line-height: 1.4;
    }

    .capabilities-list li:before {
      content: '✓';
      color: var(--theme-primary);
      font-weight: bold;
      margin-right: 6px;
      font-size: 0.9rem;
    }

    /* 호버 효과 */
    .topic-card:hover .topic-badge {
      background: var(--theme-primary-dark);
      transform: scale(1.05);
    }

    .topic-card:hover h3 {
      color: var(--theme-primary);
    }

    /* 데스크톱 ≥1024px : 스크롤 막고 가로 나열 */
    @media (min-width:650px){
      .topic-card{
        flex:0 0 280px;             /* 동일 너비 카드 */
      }
      .topics-scroll{
        overflow-x:auto;  /* 가로·세로 모두 노출 */
        overflow-y:visible;
        padding-top:12px;
        justify-content: center;
      }
    }
    @media (min-width: 512px){
      .popup-gallery .gallery-item img{
          width     : auto;   /* 가로 길이 강제 X */
          height    : 100%;   /* 세로를 갤러리 높이에 맞추기 */
          max-width : 100%;   /* 혹시 세로가 너무 작을 때 가로 100% 넘어가지 않도록 */
          object-fit: contain;
      }
    }
    .gallery-item img{
      max-width : 100%;
      max-height: 100%;
      width     : auto;
      height    : auto;
      object-fit: contain;
      object-position: center;
    }

    .gallery-item img.landscape{      /* 가로가 긴 사진 */
      width : 100%;
      height: auto;
    }
    .gallery-item img.portrait{       /* 세로가 긴 사진 */
      width : auto;
      height: 100%;
    }

    /* ── Research Topics  투명 글라스 스크롤바 ───────────────────────────── */
    /* WebKit 전용 커스텀 */
    .topics-scroll::-webkit-scrollbar{
      height: 8px;                                /* 얇은 바 */
      background: transparent;                    /* 트랙 완전 투명 */
    }
    .topics-scroll::-webkit-scrollbar-thumb{
      background      : rgba(255,255,255,.25);    /* 흐린 유리‑막대 느낌 */
      border-radius   : 4px;
      backdrop-filter : blur(4px);                /* 글라스 효과 */
      transition      : background .3s;
    }
    /* 호버·드래그 시만 또렷하게 */
    .topics-scroll:hover::-webkit-scrollbar-thumb,
    .topics-scroll::-webkit-scrollbar-thumb:active{
      background: var(--theme-primary-transparent);   /* 딥핑크 계열(테마) */
    }

    @media (max-width:600px) {
      .topics-scroll{ scrollbar-width:none;
                      overflow-x:auto;
                      overflow-y:visible;
                      -webkit-overflow-scrolling:touch;}               /* Firefox */
      .topics-scroll::-webkit-scrollbar{ display:none; }    /* WebKit */
    }

    @media (min-width:1024px){
      .topic-card{
        flex: 0 0 330px;  /* 데스크톱 카드 폭 → 이전 280 px */
      }
    }

    /*─── Publications : Apple‑like Segmented Control ──────────────────*/
    /*─── Segmented Control : 가운데 고정 ─────────────────────────────*/
    .pub-categories.seg-control{
      position:relative;
      left:50%; transform:translateX(-50%);
      display:inline-flex;
      /* ‑‑ 아래 두 줄이 “가운데 정렬”의 핵심 ‑‑ */
      width:260px;           /* 필요 폭만큼만 차지 */
      gap:0;
      margin:0 auto 32px;          /* 좌·우 auto → 항상 중앙 */

      height:44px;
      padding:4px;
      border-radius:9999px;
      background:rgba(50,50,50,.1);
      overflow:hidden;
    }
    /* 파란 thumb */
    .pub-categories.seg-control::before{
      content:'';
      position:absolute; top:4px; left:4px;
      width:calc(50% - 8px); height:36px;
      background:rgba(50,50,50,.5);
      border-radius:32px;
      transition:left .3s ease;
      z-index:0;
    }
    .pub-categories.seg-control[data-active="conference"]::before{
      left:calc(50% + 4px);
      height:calc(100% - 8px);
    }

    /* 버튼 2개가 정확히 절반씩 */
    .pub-category-btn{
      flex:1 1 0; height:100%;
      display:flex; align-items:center; justify-content:center;
      background:transparent; border:none; cursor:pointer;
      padding:12px 0; white-space:nowrap;      /* 적절한 패딩 유지 */
      position:relative; z-index:1;
      border-radius:0;
      box-sizing:border-box; /* 패딩이 width에 포함되도록 */
    }
    
    .pub-category-btn span{                    /* 글자 전용 */
      font-size:15px; font-weight:600;
      color:var(--theme-text-light);
      transition:transform .2s ease, font-weight .2s ease;
    }
    /* Hover → 글자만 살짝 확대 & Bold */
    .pub-category-btn:hover span{
      transform:scale(1.08); font-weight:700;
    }
    /* Active 글자색 흰색 */
    .pub-category-btn.active span{ color:#fff; }

    /* 기존 translateY / box‑shadow 효과 차단 */
    .pub-category-btn:hover,
    .pub-category-btn.active{
      transform:none !important; box-shadow:none !important;
      border-radius: 9999px;
    }

    /* 모바일·태블릿 폭(≤768px)일 때만 제목 아래 간격을 키움 */
    @media (max-width: 768px) {
      .chapter-title   { margin-bottom: 40px; }   /* 40 → 60px */
      .subchapter-title{ margin-bottom: 30px; }   /* 30 → 48px */
    }

    #hero,
    .hero-section{
      background-color: rgba(255,255,255,.95) !important;   /* 흰색 고정 */
    }

    /* ── Member Popup ───────────────────────── */
    .member-popup{
      position: fixed; inset: 0;
      background: rgba(0,0,0,.9);
      z-index: 2500;
      display:flex; align-items:center; justify-content:center;
      padding:20px; box-sizing:border-box;
      opacity:0; visibility:hidden;
      transition: all .3s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .member-popup.show{ opacity:1; visibility:visible; }

    .member-popup-content{
      background:#fff;
      width:min(520px, 90vw);
      border-radius:16px;
      position:relative;
      padding:24px;
      display:flex; flex-direction:column; align-items:center;
      box-shadow:0 20px 60px var(--theme-primary-very-transparent);
    }

    .member-popup-close{
      position:absolute; top:12px; right:12px;
      width:32px; height:32px; border-radius:50%;
      background:rgba(0,0,0,.15);
      cursor:pointer; transition:transform .2s, background .2s;
    }
    .member-popup-close:hover{ background:var(--theme-primary); transform:scale(1.05); }
    .member-popup-close::before,
    .member-popup-close::after{
      content:''; position:absolute; left:50%; top:50%;
      width:16px; height:2px; border-radius:1px; background:#fff; transform-origin:center;
    }
    .member-popup-close::before{ transform:translate(-50%,-50%) rotate(45deg); }
    .member-popup-close::after { transform:translate(-50%,-50%) rotate(-45deg); }

    .member-popup-header{
      display:flex; align-items:center; gap:14px; width:100%;
      margin-bottom:12px;
    }
    .member-popup-avatar{
      width:84px; height:84px; border-radius:50%; object-fit:cover;
      box-shadow:0 4px 12px rgba(0,0,0,.2);
    }
    .member-popup-meta h3{ margin:0 0 4px; font-size:1.2rem; font-weight:800; }
    .member-popup-meta p { margin:0; color:var(--theme-text-light); }

    .member-popup-links{
      display:flex; gap:14px; justify-content:center; padding:14px 0 6px;
    }
    .member-link{
      background:#F5F5F7; border:1px solid rgba(0,0,0,.06);
      border-radius:12px; padding:10px;
      transition:transform .15s, box-shadow .15s, opacity .15s;
    }
    .member-link:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.12); }
    .member-link img{ width:44px; height:44px; display:block; }
	</style>
  
  <!-- 자바스크립트 코드 -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // -------------------- 연구 주제 데이터 정의 (업데이트된 버전) --------------------
      const researchData = {
        'ongoing-research': {
          title: 'Ongoing Research',
          subtitle: 'Application in Project Management',
          cards: [
            {
              headline: 'Go fast. Go far.',
              body: 'Supercharged by Apple silicon. Integrates CPU, GPU and Neural Engine onto a single chip.',
              img: 'ResearchTopic/topic0/topic0_1.png'
            }
          ]
        },
        'human-sensing': {
          title: 'Human Sensing',
          subtitle: 'From Human to Data',
          cards: [
            {
              headline: 'Go fast. Go far.',
              body: 'Supercharged by Apple silicon. Integrates CPU, GPU and Neural Engine onto a single chip.',
              img: 'ResearchTopic/topic1/topic1_1.png'
            },
            {
              headline: 'Stay cool. Work long.',
              body: 'All‑day battery life lets you create wherever inspiration strikes.',
              img: 'ResearchTopic/topic1/topic1_2.png'
            },
            {
              headline: 'Stay cool. Work long.',
              body: 'All‑day battery life lets you create wherever inspiration strikes.',
              img: 'ResearchTopic/topic1/topic1_3.png'
            }
          ]
        },
        'data-analysis': {
          title: 'Pattern Discovery',
          subtitle: 'From Data to Insight',
          cards: [
            {
              headline: 'Go fast. Go far.',
              body: 'Supercharged by Apple silicon. Integrates CPU, GPU and Neural Engine onto a single chip.',
              img: 'ResearchTopic/topic2/topic2_1.png'
            },
            {
              headline: 'Stay cool. Work long.',
              body: 'All‑day battery life lets you create wherever inspiration strikes.',
              img: 'ResearchTopic/topic2/topic2_2.png'
            },
            {
              headline: 'Stay cool. Work long.',
              body: 'All‑day battery life lets you create wherever inspiration strikes.',
              img: 'ResearchTopic/topic2/topic2_3.png'
            }
          ]
        },
        'intervention': {
          title: 'Intervention Design',
          subtitle: 'From Insight to Action',
          cards: [
            {
              headline: 'Go fast. Go far.',
              body: 'Supercharged by Apple silicon. Integrates CPU, GPU and Neural Engine onto a single chip.',
              img: 'ResearchTopic/topic3/topic3_1.png'
            },
            {
              headline: 'Stay cool. Work long.',
              body: 'All‑day battery life lets you create wherever inspiration strikes.',
              img: 'ResearchTopic/topic3/topic3_2.png'
            },
            {
              headline: 'Stay cool. Work long.',
              body: 'All‑day battery life lets you create wherever inspiration strikes.',
              img: 'ResearchTopic/topic3/topic3_3.png'
            }
          ]
        }
      };

      // -------------------- 스크롤 애니메이션 관련 코드 --------------------
      const sections = document.querySelectorAll('.animate-section');
      const heroText = document.querySelector('#hero .hero-overlay-msg') 
      
      // 스크롤 방향 감지를 위한 변수
      let lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
      let scrollDirection = 'down';
      
      // 요소가 화면에 보이는지 확인하는 함수
      const isInViewport = (element) => {
        const rect = element.getBoundingClientRect();
        return (
          rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.9 &&
          rect.bottom >= 0
        );
      };
      const heroTexts = document.querySelectorAll('#hero [data-hero-text]');
      // 초기 상태 설정 - 보이는 요소는 애니메이션 적용
      const checkSections = () => {
        // 현재 스크롤 위치 확인
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // 스크롤 방향 업데이트
        if (scrollTop > lastScrollTop) {
          scrollDirection = 'down';
        } else if (scrollTop < lastScrollTop) {
          scrollDirection = 'up';
        }
        
        // 각 섹션에 대해 애니메이션 처리
        sections.forEach(section => {
          // 현재 요소가 보이는지 확인
          if (isInViewport(section)) {
            if (!section.classList.contains('show')) {
              // 보이는데 아직 show 클래스가 없으면
              section.classList.remove('hide-up', 'hide-down');
              section.classList.add('show');
            }
          } else {
            // 뷰포트에서 벗어났을 때, 이전에 보였던 요소만 처리
            if (section.classList.contains('show')) {
              section.classList.remove('show');
              
              // 스크롤 방향에 따라 다른 방향으로 사라짐
              if (scrollDirection === 'down') {
                section.classList.add('hide-up');
                section.classList.remove('hide-down');
              } else {
                section.classList.add('hide-down');
                section.classList.remove('hide-up');
              }
            }
          }
        });
        
        // 히어로 텍스트 처리
        if (scrollTop > 100) {
          heroText.classList.add('hide');
        } else {
          heroText.classList.remove('hide');
        }
        
        // 현재 스크롤 위치 저장
        lastScrollTop = scrollTop;
      };
      
      // 스크롤 이벤트에 체크 함수 바인딩
      window.addEventListener('scroll', checkSections, { passive: true });
      
      // 최초 로드 시 실행
      checkSections();
      
      // 리사이즈 이벤트에도 대응
      window.addEventListener('resize', checkSections, { passive: true });

      // -------------------- 연구 주제 인터랙션 초기화 (Apple 스타일) --------------------
      
      // 연구 주제 팝업 함수
      function openResearchPopup(researchType) {
        const data = researchData[researchType];
        if(!data) return;

        // 헤더 텍스트
        document.getElementById('research-popup-title').textContent = data.title;
        document.getElementById('research-popup-subtitle').textContent = data.subtitle || '';

        // 카드 컨테이너 비우고 다시 채우기
        const box = document.getElementById('research-popup-cards');
        box.innerHTML = '';

        (data.cards || []).forEach(c=>{
          const card = document.createElement('div');
          card.className = 'popup-card';
          card.innerHTML = `
            <div class="card-text">
              <h3>${c.headline}</h3>
              <p>${c.body}</p>
            </div>
            <div class="card-image">
              <img src="${c.img}" alt="${c.headline}">
            </div>`;
          box.appendChild(card);
        });

        // 팝업 열기
        document.getElementById('research-popup').classList.add('show');
        document.body.style.overflow = 'hidden';
      }
      
      // 연구 주제 팝업 닫기
      function closeResearchPopup() {
        const popup = document.getElementById('research-popup');
        popup.classList.remove('show');
        
        // 스크롤 복원
        document.body.style.overflow = '';
      }
      
      // 팝업 닫기 이벤트 리스너
      document.getElementById('research-popup-close').addEventListener('click', closeResearchPopup);
      
      // 외부 클릭으로 팝업 닫기
      document.getElementById('research-popup').addEventListener('click', function(e) {
        if (e.target === this) {
          closeResearchPopup();
        }
      });
      
      // ESC 키로 팝업 닫기
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          const researchPopup = document.getElementById('research-popup');
          const newsPopup = document.getElementById('news-popup');
          
          if (researchPopup.classList.contains('show')) {
            closeResearchPopup();
          }
          if (newsPopup && newsPopup.classList.contains('show')) {
            newsPopup.classList.remove('show');
          }
        }
      });

      // Learn More 버튼 이벤트 리스너 설정
      document.querySelectorAll('.learn-more-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const researchType = this.getAttribute('data-research');
          openResearchPopup(researchType);
        });
      });
      document.querySelectorAll('.topic-card').forEach(card=>{
        card.addEventListener('click', ()=>openResearchPopup(card.dataset.research));
    });
      // -------------------- Publications CSV 로드 관련 코드 --------------------
      
      // CSV 파일 로드 및 파싱
      async function loadPublicationsData() {
        try {
          // 로딩 인디케이터 표시
          document.getElementById('publications-loading').style.display = 'flex';
          
          // CSV 파일 로드
          const response = await fetch('publications.csv');
          const csvText = await response.text();
          
          // CSV 파싱 (간단한 파서 구현)
          const publications = parseCSV(csvText);
          
          // 데이터 로드 후 로딩 인디케이터 숨김
          document.getElementById('publications-loading').style.display = 'none';
          
          // 출판물 데이터로 UI 초기화
          initializePublicationsUI(publications);
        } catch (error) {
          console.error('Error loading publications data:', error);
          document.getElementById('publications-loading').innerHTML = `
            <p>Error loading publications data. Please try again later.</p>
            <button id="retry-load-btn" class="pub-category-btn">Retry</button>
          `;
          
          // 재시도 버튼 이벤트 리스너
          document.getElementById('retry-load-btn').addEventListener('click', loadPublicationsData);
        }
      }
      
      // 간단한 CSV 파서 구현
      function parseCSV(csvText) {
        const lines = csvText.split('\n');
        const headers = lines[0].split(',').map(header => header.trim());
        
        const result = [];
        
        for (let i = 1; i < lines.length; i++) {
          if (!lines[i].trim()) continue;
          
          const values = lines[i].split(',');
          const entry = {};
          
          headers.forEach((header, index) => {
            let value = values[index] ? values[index].trim() : '';
            
            // 연도와 인덱스는 숫자로 변환
            if (header === 'year' || header === 'index') {
              value = parseInt(value, 10);
            }
            
            entry[header] = value;
          });
          
          result.push(entry);
        }
        
        return result;
      }
      
      // 출판물 UI 초기화
      function initializePublicationsUI(publications) {
        // 저널과 컨퍼런스로 구분
        const journalPapers = publications.filter(pub => pub.type.toLowerCase() === 'journal');
        const conferencePapers = publications.filter(pub => pub.type.toLowerCase() === 'conference');
        
        // 현재 상태 변수
        let currentCategory = 'journal';
        let currentYears = {
          journal: 'all',
          conference: 'all'
        };
        let currentPage = {
          journal: { all: 1 },
          conference: { all: 1 }
        };
        
        // 연도 목록 가져오기 (고유값)
        const journalYears = [...new Set(journalPapers.map(paper => paper.year))].sort((a, b) => b - a);
        const conferenceYears = [...new Set(conferencePapers.map(paper => paper.year))].sort((a, b) => b - a);
        
        // 연도 탭 생성
        createYearTabs('journal', journalYears);
        createYearTabs('conference', conferenceYears);
        
        // 카테고리 버튼 이벤트 리스너
        document.querySelectorAll('.pub-category-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const category = this.getAttribute('data-category');
            
            // 이미 활성화된 버튼이면 무시
            if (this.classList.contains('active')) return;
            
            // 버튼 활성화 상태 변경
            document.querySelectorAll('.pub-category-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            // 컨텐츠 영역 표시/숨김
            document.querySelectorAll('.pub-content').forEach(content => {
              content.style.display = 'none';
            });
            document.getElementById(`${category}-papers`).style.display = 'block';
            
            // 현재 카테고리 저장
            currentCategory = category;
            
            // 현재 카테고리의 논문 목록 렌더링
            renderPapers(category, currentYears[category], currentPage[category][currentYears[category]] || 1);
            /* ★ 추가: thumb 이동 제어용 data‑속성 업데이트 */
            document.querySelector('.pub-categories.seg-control').dataset.active = category;
          });
        });
        
        // 페이지당 항목 수
        const ITEMS_PER_PAGE = 15;
        
        // 연도 탭 생성 함수
        function createYearTabs(category, years) {
          const tabsContainer = document.getElementById(`${category}-year-tabs`);
          if (!tabsContainer) return;
          
          // 'All' 탭 추가
          let tabsHTML = `<button class="year-tab active" data-year="all">All</button>`;
          
          // 각 연도별 탭 추가
          years.forEach(year => {
            tabsHTML += `<button class="year-tab" data-year="${year}">${year}</button>`;
          });
          
          tabsContainer.innerHTML = tabsHTML;
          
          // 연도 탭 이벤트 리스너 설정
          tabsContainer.querySelectorAll('.year-tab').forEach(tab => {
            tab.addEventListener('click', function() {
              const year = this.getAttribute('data-year');
              
              // 이미 활성화된 탭이면 무시
              if (this.classList.contains('active')) return;
              
              // 탭 활성화 상태 변경
              tabsContainer.querySelectorAll('.year-tab').forEach(t => t.classList.remove('active'));
              this.classList.add('active');
              
              // 현재 연도 저장
              currentYears[category] = year;
              
              // 페이지 초기화 (해당 연도의 페이지가 없으면 1로 설정)
              if (!currentPage[category][year]) {
                currentPage[category][year] = 1;
              }
              
              // 논문 목록 렌더링
              renderPapers(category, year, currentPage[category][year]);
            });
          });
        }

        // 논문 목록 렌더링 함수
        function renderPapers(category, year, page) {
          const papers = category === 'journal' ? journalPapers : conferencePapers;
          
          // 연도별 필터링
          const filteredPapers = year === 'all' 
            ? papers 
            : papers.filter(paper => paper.year === parseInt(year));
          
          // 페이지네이션 계산
          const totalPages = Math.ceil(filteredPapers.length / ITEMS_PER_PAGE);
          const startIndex = (page - 1) * ITEMS_PER_PAGE;
          const paginatedPapers = filteredPapers.slice(startIndex, startIndex + ITEMS_PER_PAGE);
          
          // 현재 페이지 저장
          currentPage[category][year] = page;
          
          // 테이블 컨테이너
          const tableContainer = document.getElementById(`${category}-table-container`);
          if (!tableContainer) return;
          
          // 테이블 HTML 생성
          let tableHTML = `
            <table class="papers-table" id="${category}-${year}-table">
              <thead>
                <tr><th width="10%">Index</th><th width="90%">Paper</th></tr>
              </thead>
              <tbody>
          `;
          
          // 논문 행 추가
          if (paginatedPapers.length > 0) {
            paginatedPapers.forEach(paper => {
              tableHTML += `
                <tr>
                  <td>${paper.index}</td>
                  <td>${paper.paper}</td>
                </tr>
              `;
            });
          } else {
            // 데이터가 없는 경우 메시지 표시
            tableHTML += `<tr><td colspan="2" class="no-papers">No papers found for this category/year.</td></tr>`;
          }
          
          tableHTML += `
              </tbody>
            </table>
          `;
          
          // 테이블 컨테이너에 HTML 삽입
          tableContainer.innerHTML = tableHTML;
          
          // 페이지네이션 렌더링
          renderPagination(category, year, page, totalPages);
        }
        
        // 페이지네이션 렌더링 함수
        function renderPagination(category, year, currentPageNum, totalPages) {
          const paginationContainer = document.getElementById(`${category}-pagination`);
          if (!paginationContainer) return;
          
          // 페이지가 1페이지만 있으면 페이지네이션 숨김
          if (totalPages <= 1) {
            paginationContainer.innerHTML = '';
            return;
          }
          
          // 최대 표시 페이지 수
          const maxVisiblePages = 5;
          
          let paginationHTML = '';
          
          // 이전 버튼
          if (currentPageNum > 1) {
            paginationHTML += `<button class="page-btn prev-btn" data-page="${currentPageNum - 1}">&lt;</button>`;
          }
          
          // 페이지 번호 버튼
          let startPage = Math.max(1, currentPageNum - Math.floor(maxVisiblePages / 2));
          let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
          
          // 시작 페이지 조정
          if (endPage - startPage + 1 < maxVisiblePages) {
            startPage = Math.max(1, endPage - maxVisiblePages + 1);
          }
          
          for (let i = startPage; i <= endPage; i++) {
            paginationHTML += `<button class="page-btn ${i === currentPageNum ? 'active' : ''}" data-page="${i}">${i}</button>`;
          }
          
          // 다음 버튼
          if (currentPageNum < totalPages) {
            paginationHTML += `<button class="page-btn next-btn" data-page="${currentPageNum + 1}">&gt;</button>`;
          }
          
          paginationContainer.innerHTML = paginationHTML;
          
          // 페이지 버튼 이벤트 리스너
          paginationContainer.querySelectorAll('.page-btn').forEach(btn => {
            btn.addEventListener('click', function() {
              const newPage = parseInt(this.getAttribute('data-page'));
              renderPapers(category, year, newPage);
            });
          });
        }
        
        // 초기 렌더링 - 저널 논문, 전체 연도, 1페이지
        renderPapers('journal', 'all', 1);
        document.querySelector('.pub-categories.seg-control').dataset.active = 'journal';
      }
      
      // CSV 데이터 로드 시작
      loadPublicationsData();
      
      // -------------------- 뉴스 CSV 로드 및 UI 초기화 --------------------
      
      // 뉴스 데이터 글로벌 변수
      let newsData = [];
      
      // 뉴스 JSON 파일 로드
      async function loadNewsData() {
        try {
          // 로딩 인디케이터 표시
          document.getElementById('news-table-body').innerHTML = `
            <tr>
              <td colspan="2" class="loading-indicator">
                <div class="loading-spinner"></div>
                <p>Loading news data...</p>
              </td>
            </tr>
          `;
          
          // JSON 파일 로드
          const response = await fetch('News.json');
          
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          
          newsData = await response.json();
          
          // 인덱스로 내림차순 정렬 (최신순)
          newsData.sort((a, b) => b.index - a.index);
          
          // 뉴스 데이터로 UI 초기화
          initializeNewsUI(newsData);
        } catch (error) {
          console.error('Error loading news data:', error);
          
          // 에러 시 기본 데이터 사용
          console.log('JSON 파일 로드에 실패했습니다. 기본 뉴스 데이터를 사용합니다.');
          newsData = getDefaultNewsData();
          initializeNewsUI(newsData);
        }
      }

      // 기본 뉴스 데이터 (JSON 파일이 없을 경우 사용)
      function getDefaultNewsData() {
        return [
          {
            "index": 1,
            "title": "Korean Military Manpower Administration visited TeamL!",
            "content": "The Military Manpower Administration (MMA) of South Korea visited TeamL, where they attended a lecture by Dr. Lee on his research and the application of artificial intelligence at The Michael Spence Building. In addition, they engaged in in-depth discussions on how AI and TeamL's research could be applied to the operations of the MMA. This visit served as a meaningful opportunity to explore the practical integration of AI technologies and research in the field of public administration. Moving forward, TeamL will continue to collaborate with the MMA and other institutions to develop AI-driven innovative solutions and contribute to the creation of social value.",
            "date": "20250423",
            "images": ["News/New7/KoreanMMA.jpg", "News/New7/USYD.jpg"]
          },
          {
            "index": 2,
            "title": "TeamL Research Presentation at International AI Conference",
            "content": "TeamL members presented their latest research findings on human behavior analysis and intervention design at the prestigious International AI Conference. The presentation showcased innovative approaches to multimodal data collection and real-time pattern recognition.",
            "date": "20250315",
            "images": ["placeholder.jpg"]
          }
        ];
      }
      
      // 날짜 변환 함수: 'yyyymmdd' -> 'dd Month yyyy'
      function formatDate(dateString) {
        if (!dateString || dateString.length !== 8) return 'Invalid date';
        
        const year = dateString.substring(0, 4);
        const month = parseInt(dateString.substring(4, 6), 10) - 1;
        const day = parseInt(dateString.substring(6, 8), 10);
        
        const date = new Date(year, month, day);
        
        // 호주식 날짜 형식으로 변환 (일, 월(영문), 년도)
        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        return `${day} ${months[month]} ${year}`;
      }
      
      // 뉴스 UI 초기화
      function initializeNewsUI(news) {
        // 페이지당 뉴스 항목 수
        const NEWS_PER_PAGE = 5;
        
        // 현재 페이지 (1부터 시작)
        let currentPage = 1;
        
        // 최근 뉴스 표시
        renderLatestNews(news[0]);
        
        // 페이지네이션을 위한 뉴스 데이터 필터링 (최근 뉴스 제외)
        const otherNews = news.slice(1);
        
        // 뉴스 목록 렌더링
        renderNewsTable(otherNews, currentPage, NEWS_PER_PAGE);
        
        // 페이지네이션 렌더링
        renderNewsPagination(otherNews, currentPage, NEWS_PER_PAGE);
        
        // 가장 최근 뉴스 렌더링 함수
        function renderLatestNews(latestNews) {
          if (!latestNews) return;
          
          const latestNewsContainer = document.getElementById('latest-news-container');
          
          // 이미지 경로 설정 (첫 번째 이미지 사용)
          const imageSrc = latestNews.images && latestNews.images.length > 0 
            ? latestNews.images[0] 
            : 'placeholder.jpg';
          
          // 포맷된 날짜
          const formattedDate = formatDate(latestNews.date);
          
          // HTML 생성
          latestNewsContainer.innerHTML = `
            <img src="${imageSrc}" alt="${latestNews.title}" class="latest-news-image">
            <div class="latest-news-content">
              <h3 class="latest-news-title" data-index="${latestNews.index}">${latestNews.title}</h3>
              <p class="latest-news-date">${formattedDate}</p>
            </div>
          `;
          
          // 클릭 이벤트 리스너 (뉴스 상세 팝업 표시)
          latestNewsContainer.querySelector('.latest-news-title').addEventListener('click', function() {
            const newsIndex = parseInt(this.getAttribute('data-index'), 10);
            const newsItem = newsData.find(item => item.index === newsIndex);
            if (newsItem) {
              openNewsPopup(newsItem);
            }
          });
        }

        // 뉴스 테이블 렌더링 함수
        function renderNewsTable(newsItems, page, itemsPerPage) {
          const tableBody = document.getElementById('news-table-body');
          
          // 페이지네이션 계산
          const startIndex = (page - 1) * itemsPerPage;
          const endIndex = startIndex + itemsPerPage;
          const paginatedNews = newsItems.slice(startIndex, endIndex);
          
          // 테이블 내용 초기화
          tableBody.innerHTML = '';
          
          // 뉴스 항목 없는 경우
          if (paginatedNews.length === 0) {
            tableBody.innerHTML = `
              <tr>
                <td colspan="2" style="text-align: center; padding: 20px;">No news items available.</td>
              </tr>
            `;
            return;
          }
          
          // 각 뉴스 항목 표시
          paginatedNews.forEach(news => {
            const row = document.createElement('tr');
            const formattedDate = formatDate(news.date);
            
            row.innerHTML = `
              <td>${formattedDate}</td>
              <td><span class="news-title" data-index="${news.index}">${news.title}</span></td>
            `;
            
            tableBody.appendChild(row);
            
            // 뉴스 제목 클릭 이벤트 리스너
            row.querySelector('.news-title').addEventListener('click', function() {
              const newsIndex = parseInt(this.getAttribute('data-index'), 10);
              const newsItem = newsData.find(item => item.index === newsIndex);
              if (newsItem) {
                openNewsPopup(newsItem);
              }
            });
          });
        }
        
        // 뉴스 페이지네이션 렌더링 함수
        function renderNewsPagination(newsItems, currentPageNum, itemsPerPage) {
          const paginationContainer = document.getElementById('news-pagination');
          
          // 총 페이지 수 계산
          const totalPages = Math.ceil(newsItems.length / itemsPerPage);
          
          // 페이지가 1페이지만 있으면 페이지네이션 숨김
          if (totalPages <= 1) {
            paginationContainer.innerHTML = '';
            return;
          }
          
          // 최대 표시 페이지 수
          const maxVisiblePages = 5;
          
          let paginationHTML = '';
          
          // 이전 버튼
          if (currentPageNum > 1) {
            paginationHTML += `<button class="page-btn prev-btn" data-page="${currentPageNum - 1}">&lt;</button>`;
          }
          
          // 페이지 번호 버튼
          let startPage = Math.max(1, currentPageNum - Math.floor(maxVisiblePages / 2));
          let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
          
          // 시작 페이지 조정
          if (endPage - startPage + 1 < maxVisiblePages) {
            startPage = Math.max(1, endPage - maxVisiblePages + 1);
          }
          
          for (let i = startPage; i <= endPage; i++) {
            paginationHTML += `<button class="page-btn ${i === currentPageNum ? 'active' : ''}" data-page="${i}">${i}</button>`;
          }
          
          // 다음 버튼
          if (currentPageNum < totalPages) {
            paginationHTML += `<button class="page-btn next-btn" data-page="${currentPageNum + 1}">&gt;</button>`;
          }
          
          paginationContainer.innerHTML = paginationHTML;
          
          // 페이지 버튼 이벤트 리스너
          paginationContainer.querySelectorAll('.page-btn').forEach(btn => {
            btn.addEventListener('click', function() {
              const newPage = parseInt(this.getAttribute('data-page'), 10);
              currentPage = newPage;
              renderNewsTable(otherNews, currentPage, NEWS_PER_PAGE);
              renderNewsPagination(otherNews, currentPage, NEWS_PER_PAGE);
            });
          });
        }
        
        // 뉴스 팝업 열기 함수
        function openNewsPopup(newsItem) {
          const popup = document.getElementById('news-popup');
          const galleryContainer = document.getElementById('gallery-container');
          const galleryDots = document.getElementById('gallery-dots');
          const popupTitle = document.getElementById('popup-title');
          const popupDate = document.getElementById('popup-date');
          const popupText = document.getElementById('popup-text');
          
          // 팝업 내용 초기화
          galleryContainer.innerHTML = '';
          galleryDots.innerHTML = '';
          
          // 갤러리 섹션 초기화 (항상 먼저 보이게 설정)
          const gallerySection = document.querySelector('.popup-gallery');
          gallerySection.style.display = 'block';
          
          // 타이틀, 날짜, 내용 설정
          popupTitle.textContent = newsItem.title;
          popupDate.textContent = formatDate(newsItem.date);
          popupText.textContent = newsItem.content;
          
          // 갤러리 이미지 추가
          if (newsItem.images && newsItem.images.length > 0) {
            newsItem.images.forEach((imagePath, index) => {
              // 갤러리 이미지 항목 생성
              const galleryItem = document.createElement('div');
              galleryItem.className = 'gallery-item';
              galleryItem.innerHTML = `<img src="${imagePath}" alt="${newsItem.title} - Image ${index + 1}">`;
              galleryContainer.appendChild(galleryItem);
              
              // ② 이미지 방향(가로/세로) 판별해서 클래스 부여
              const img = galleryItem.querySelector('img');
              img.addEventListener('load', () => {
                img.classList.remove('landscape','portrait');   // 팝업 재사용 대비
                if (img.naturalWidth >= img.naturalHeight){
                  img.classList.add('landscape');   // 가로 사진
                } else {
                  img.classList.add('portrait');    // 세로 사진
                }
              });

              // 갤러리 인디케이터 점 생성
              const dot = document.createElement('div');
              dot.className = `gallery-dot ${index === 0 ? 'active' : ''}`;
              dot.setAttribute('data-index', index);
              galleryDots.appendChild(dot);
              
              // 점 클릭 이벤트 (해당 이미지로 스크롤)
              dot.addEventListener('click', function() {
                const dotIndex = parseInt(this.getAttribute('data-index'), 10);
                scrollToImage(dotIndex);
              });
            });
            
            // 갤러리 네비게이션 버튼 이벤트
            const prevBtn = document.getElementById('gallery-prev');
            const nextBtn = document.getElementById('gallery-next');
            
            let currentImageIndex = 0;
            
            // 기존 이벤트 리스너 제거 (중복 방지)
            prevBtn.replaceWith(prevBtn.cloneNode(true));
            nextBtn.replaceWith(nextBtn.cloneNode(true));
            
            const newPrevBtn = document.getElementById('gallery-prev');
            const newNextBtn = document.getElementById('gallery-next');
            
            newPrevBtn.addEventListener('click', function() {
              if (currentImageIndex > 0) {
                currentImageIndex--;
                scrollToImage(currentImageIndex);
              }
            });
            
            newNextBtn.addEventListener('click', function() {
              if (currentImageIndex < newsItem.images.length - 1) {
                currentImageIndex++;
                scrollToImage(currentImageIndex);
              }
            });
            
            // 갤러리 스크롤 이벤트 (현재 활성화된 점 업데이트)
            galleryContainer.addEventListener('scroll', function() {
              const scrollPosition = this.scrollLeft;
              const itemWidth = this.offsetWidth;
              const newIndex = Math.round(scrollPosition / itemWidth);
              
              if (newIndex !== currentImageIndex) {
                currentImageIndex = newIndex;
                updateActiveDot(newIndex);
              }
            });
            
            // 이미지로 스크롤 함수
            function scrollToImage(index) {
              const itemWidth = galleryContainer.offsetWidth;
              galleryContainer.scrollTo({
                left: index * itemWidth,
                behavior: 'smooth'
              });
              
              currentImageIndex = index;
              updateActiveDot(index);
            }
            
            // 활성화된 점 업데이트 함수
            function updateActiveDot(index) {
              const dots = galleryDots.querySelectorAll('.gallery-dot');
              dots.forEach((dot, i) => {
                if (i === index) {
                  dot.classList.add('active');
                } else {
                  dot.classList.remove('active');
                }
              });
            }
          } else {
            // 이미지가 없는 경우 갤러리 섹션 숨김
            gallerySection.style.display = 'none';
          }
          
          // 팝업 표시
          popup.classList.add('show');
          
          // 기존 이벤트 리스너 제거 후 새로 추가 (중복 방지)
          const closeBtn = document.getElementById('popup-close');
          closeBtn.replaceWith(closeBtn.cloneNode(true));
          
          // 팝업 닫기 버튼 이벤트
          document.getElementById('popup-close').addEventListener('click', function() {
            popup.classList.remove('show');
          });
          
          // 외부 클릭으로 팝업 닫기
          popup.addEventListener('click', function(e) {
            if (e.target === popup) {
              popup.classList.remove('show');
            }
          });
        }
      }
      
      // 뉴스 데이터 로드 시작
      loadNewsData();
    });
    /* ── Member: 링크 데이터(여기서만 관리하면 됨) ─────────────────── */
    const memberDirectory = {
      HLee: {
        name: "Dr. Hoonyong Lee",
        role: "hoonyong.lee@sydney.edu.au",
        avatar: "Members/Supervisor/HLee.png",
        links: {
          cv: "",                             // 예: "Members/Supervisor/HLee_CV.pdf"
          homepage: "",                       // 예: "https://researchers.sydney.edu.au/..."
          linkedin: ""                        // 예: "https://www.linkedin.com/in/..."
        }
      },
      SKarim: {
        name: "Shakir Karim",
        role: "shakir.karim@sydney.edu.au",
        avatar: "Members/HDR/SKarim.jpg",
        links: {
          cv: "",
          homepage: "",
          linkedin: ""
        }
      },
      JKim: {
        name: "Jinyoung Kim",
        role: "jinyoung.kim@sydney.edu.au",
        avatar: "Members/HDR/JKim.png",
        links: {
          cv: "",
          homepage: "",
          linkedin: ""
        }
      }
    };

    /* ── Member: 팝업 열기/닫기 ─────────────────────────────────────── */
    function setMemberLink(id, url){
      const a = document.getElementById(id);
      if (!a) return;
      if (url) {
        a.href = url;
        a.style.pointerEvents = "auto";
        a.style.opacity = "1";
        a.setAttribute("aria-disabled", "false");
      } else {
        a.removeAttribute("href");
        a.style.pointerEvents = "none";
        a.style.opacity = ".35";               // 비활성처럼 보이게
        a.setAttribute("aria-disabled", "true");
      }
    }

    function openMemberPopup(memberId){
      const info = memberDirectory[memberId];
      if (!info) return;

      const avatar = document.getElementById("member-popup-avatar");
      const nameEl = document.getElementById("member-popup-name");
      const roleEl = document.getElementById("member-popup-role");

      avatar.src = info.avatar;
      avatar.alt = info.name;
      nameEl.textContent = info.name;
      roleEl.textContent = info.role || "";

      setMemberLink("member-link-cv",       info.links.cv);
      setMemberLink("member-link-homepage", info.links.homepage);
      setMemberLink("member-link-linkedin", info.links.linkedin);

      document.getElementById("member-popup").classList.add("show");
      document.body.style.overflow = "hidden";
    }

    function closeMemberPopup(){
      document.getElementById("member-popup").classList.remove("show");
      document.body.style.overflow = "";
    }

    /* 닫기 버튼 / 바깥 클릭 */
    document.getElementById("member-popup-close").addEventListener("click", closeMemberPopup);
    document.getElementById("member-popup").addEventListener("click", (e)=>{
      if (e.target.id === "member-popup") closeMemberPopup();
    });

    /* ESC로 닫기: 기존 ESC 핸들러에 이 두 줄만 추가했으면 OK */
    document.addEventListener("keydown", function(e){
      if (e.key === "Escape") {
        const mp = document.getElementById("member-popup");
        if (mp.classList.contains("show")) closeMemberPopup();
      }
    });

    /* ── Member: 이미지 클릭 → 팝업 열기 ───────────────────────────── */
    document.querySelectorAll('img[data-member]')
      .forEach(img=>{
        img.style.cursor = "pointer";
        img.addEventListener('click', ()=> openMemberPopup(img.dataset.member));
      });
  </script>
</body>
</html>